function copiarFeriados(e){document.getElementById("anioOriginal").value=e,fetch(`/biometrico/sistema/controller/ConfiguracionesController/FeriadosController.php?action=ObtenerFeriadosPorAno&anio=${e}`).then(e=>e.json()).then(e=>{const o=document.getElementById("feriadosLista");o.innerHTML="",e.forEach(e=>{const n=document.createElement("input");n.type="checkbox",n.id=`feriado-${e.idFeriado}`,n.name="feriados[]",n.value=e.idFeriado;const t=document.createElement("label");t.setAttribute("for",`feriado-${e.idFeriado}`),t.innerText=`${e.nombre} - ${e.fecha}`;const a=document.createElement("div");a.appendChild(n),a.appendChild(t),o.appendChild(a)})}).catch(e=>{console.error("Error al cargar los feriados:",e)})}function confirmarCopiarFeriados(){const e=document.getElementById("formCopiarFeriado"),o=Array.from(document.querySelectorAll('input[name="feriados[]"]:checked')).map(e=>e.value);if(0===o.length)return alert("Por favor, selecciona al menos un feriado para copiar.");const n=document.createElement("input");n.type="hidden",n.name="feriadosSeleccionados",n.value=JSON.stringify(o),e.appendChild(n),e.submit()}document.getElementById("tipo").addEventListener("change",function(){const e=document.getElementById("anioDiv");"anual"===this.value?e.style.display="block":e.style.display="none"});