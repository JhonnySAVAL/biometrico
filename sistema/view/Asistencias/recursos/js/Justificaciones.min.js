$(document).ready(function(){$("#dataTable").DataTable({dom:"Bfrtip",buttons:[{extend:"excelHtml5",text:"Exportar a Excel",exportOptions:{columns:":not(.no-export)"}},{extend:"print",text:"Imprimir",exportOptions:{columns:":not(.no-export)"}}],initComplete:function(){this.api().columns([2,3]).every(function(){var t=this,e=$('<select><option value="">Todos</option></select>').appendTo($(t.footer()).empty()).on("change",function(){var e=$.fn.dataTable.util.escapeRegex($(this).val());t.search(e?"^"+e+"$":"",!0,!1).draw()});t.data().unique().sort().each(function(t,o){e.append('<option value="'+t+'">'+t+"</option>")})})},language:{url:"https://cdn.datatables.net/plug-ins/1.13.5/i18n/es-ES.json"}})}),document.addEventListener("DOMContentLoaded",function(){document.getElementById("editModal"),document.getElementById("deleteModal");const t=document.getElementById("formEdit"),e=document.getElementById("formDelete");document.querySelectorAll("[data-bs-target='#editModal']").forEach(e=>{e.addEventListener("click",function(){const e=this.dataset.id,o=this.dataset.fechainicio,n=this.dataset.fechafin,i=this.dataset.motivo;t.action=`/biometrico/sistema/controller/AsistenciasController/JustificacionesController.php?action=actualizarJustificaciones&id=${e}`,t.querySelector("#edit-fecha_inicio").value=o,t.querySelector("#edit-fecha_fin").value=n,t.querySelector("#edit-motivo").value=i})}),document.querySelectorAll("[data-bs-target='#deleteModal']").forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();const o=this.dataset.id;Swal.fire({title:"¿Estás seguro?",text:"No podrás deshacer esta acción.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.isConfirmed&&(e.action=`/biometrico/sistema/controller/AsistenciasController/JustificacionesController.php?action=EliminarJustificacion&id=${o}`,e.submit())})})})});