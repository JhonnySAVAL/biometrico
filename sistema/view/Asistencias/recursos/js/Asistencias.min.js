document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#formMarcarEntrada");e&&e.addEventListener("submit",function(e){e.preventDefault();const r=document.querySelector("#dniEntrada").value,o=document.querySelector("#horaEntrada").value;fetch("/biometrico/sistema/controller/AsistenciasController/AsistenciasController.php?action=marcarEntrada",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dni:r,horaEntrada:o,tipo:"manual"})}).then(e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()}).then(e=>{Swal.fire({title:e.error?"Error!":"¡Éxito!",text:e.message,icon:e.error?"error":"success",confirmButtonText:"OK"}).then(r=>{r.isConfirmed&&(e.error||window.location.reload())})}).catch(e=>{console.error("Error al marcar la entrada:",e),Swal.fire({title:"Error!",text:"No se pudo procesar la solicitud.",icon:"error",confirmButtonText:"OK"})})});const r=document.querySelector("#formMarcarReceso");r&&r.addEventListener("submit",function(e){e.preventDefault();const r=document.querySelector("#dniReceso").value,o=document.querySelector("#horaReceso").value;fetch("/biometrico/sistema/controller/AsistenciasController/AsistenciasController.php?action=marcarReceso",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dni:r,horaReceso:o})}).then(e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()}).then(e=>{Swal.fire({title:e.error?"Error!":"¡Éxito!",text:e.message,icon:e.error?"error":"success",confirmButtonText:"OK"}).then(r=>{r.isConfirmed&&!e.error&&window.location.reload()})}).catch(e=>{console.error("Error al marcar el receso:",e),Swal.fire({title:"Error!",text:"No se pudo procesar la solicitud.",icon:"error",confirmButtonText:"OK"})})});const o=document.querySelector("#formMarcarFinReceso");o&&o.addEventListener("submit",function(e){e.preventDefault();const r=document.querySelector("#dniFinReceso").value,o=document.querySelector("#horaFinReceso").value;fetch("/biometrico/sistema/controller/AsistenciasController/AsistenciasController.php?action=marcarFinalReceso",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dniRecesoFinal:r,horaRecesoFinal:o})}).then(e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()}).then(e=>{Swal.fire({title:e.error?"Error!":"¡Éxito!",text:e.message,icon:e.error?"error":"success",confirmButtonText:"OK"}).then(r=>{r.isConfirmed&&!e.error&&window.location.reload()})}).catch(e=>{console.error("Error al marcar el fin del receso:",e),Swal.fire({title:"Error!",text:"No se pudo procesar la solicitud.",icon:"error",confirmButtonText:"OK"})})});const t=document.querySelector("#formMarcarSalida");t&&t.addEventListener("submit",function(e){e.preventDefault();const r=document.querySelector("#dniSalida").value,o=document.querySelector("#horaSalida").value;fetch("/biometrico/sistema/controller/AsistenciasController/AsistenciasController.php?action=marcarSalida",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dniSalida:r,horaSalida:o})}).then(e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()}).then(e=>{Swal.fire({title:e.error?"Error!":"¡Éxito!",text:e.message,icon:e.error?"error":"success",confirmButtonText:"OK"}).then(r=>{r.isConfirmed&&!e.error&&window.location.reload()})}).catch(e=>{console.error("Error al marcar la salida:",e),Swal.fire({title:"Error!",text:"No se pudo procesar la solicitud.",icon:"error",confirmButtonText:"OK"})})})});